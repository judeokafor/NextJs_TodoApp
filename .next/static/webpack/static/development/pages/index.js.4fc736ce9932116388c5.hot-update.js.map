{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.4fc736ce9932116388c5.hot-update.js","sources":["webpack:///./pages/components/Todo.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport AddTodo from \"./AddTodo\";\r\nimport uuid from \"uuid\";\r\nimport PropTypes from \"prop-types\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport swal from \"sweetalert2\";\r\n\r\nexport class Todo extends Component {\r\n  state = {\r\n    todos: this.props.props.todos,\r\n    // todos: [\r\n    //   {\r\n    //     id: uuid.v4(),\r\n    //     title: \"Learn React hooks\",\r\n    //     completed: false,\r\n    //     created: Date.now()\r\n    //   },\r\n    //   {\r\n    //     id: uuid.v4(),\r\n    //     title: \"Learn Progressive Web App\",\r\n    //     completed: false,\r\n    //     created: Date.now()\r\n    //   },\r\n    //   {\r\n    //     id: uuid.v4(),\r\n    //     title: \"Learn React Router\",\r\n    //     completed: true,\r\n    //     created: Date.now()\r\n    //   },\r\n    //   {\r\n    //     id: uuid.v4(),\r\n    //     title: \"Read documentation of next js\",\r\n    //     completed: true,\r\n    //     created: Date.now()\r\n    //   },\r\n    //   {\r\n    //     id: uuid.v4(),\r\n    //     title: \"Read documentation of next js\",\r\n    //     completed: true,\r\n    //     created: Date.now()\r\n    //   }\r\n    // ]\r\n  }\r\n\r\n  // Toogle todo\r\n  markComplete = id => {\r\n    this.setState({\r\n      todos: this.state.todos.map(todo => {\r\n        if (todo.id == id) {\r\n          todo.completed = !todo.completed;\r\n        }\r\n        return todo;\r\n      })\r\n    });\r\n  };\r\n  // delete todo from Ui\r\n  delTodo = id => {\r\n    this.setState({\r\n      todos: this.state.todos.filter(todo => {\r\n        return todo.id !== id;\r\n      })\r\n    });\r\n  };\r\n  addTodo = title => {\r\n    const newTodo = {\r\n      id: uuid.v4(),\r\n      title: title,\r\n      completed: false\r\n    };\r\n    this.setState({ todos: [...this.state.todos, newTodo] });\r\n    swal.fire({\r\n      position: 'top-end',\r\n      type: 'success',\r\n      title: 'Todo Added',\r\n      showConfirmButton: false,\r\n      timer: 2000\r\n    })\r\n    async () => {\r\n      const res = await fetch(\"http://localhost:3500/todo\", {\r\n        method : 'POST',\r\n        body: newTodo,\r\n        headers: new Headers ({\r\n          'content-type' : 'application/x-wwww-form-urlencoded; charset=utf-8',\r\n          'Accept': 'application/json'\r\n        })\r\n      });\r\n      const data = await res.json();\r\n    \r\n      console.log('my added todos', data);\r\n      // return {\r\n      //   todos: data\r\n      // };\r\n    };\r\n  };\r\n  render() {\r\n    // console.log('inside todo component', this.props.props.todos);\r\n    return [\r\n      <AddTodo addTodo={this.addTodo} />,\r\n      this.state.todos.map(todo => (\r\n        <TodoItem\r\n          key={todo.id}\r\n          todo={todo}\r\n          markComplete={this.markComplete}\r\n          delTodo={this.delTodo}\r\n        />\r\n      ))\r\n    ];\r\n  }\r\n}\r\n// Prop-Types\r\nTodo.propTypes = {\r\n  todos: PropTypes.object.isRequired\r\n};\r\nexport default Todo;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AArCA;AACA;AAFA;AAuCA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AANA;AAQA;AACA;AAhDA;AAkDA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAxDA;AAyDA;AACA;AACA;AACA;AAHA;AACA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAHA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AASA;AAEA;AAEA;AACA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AAvFA;AAAA;AACA;AADA;AAAA;AAAA;AAuFA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAJA;AADA;AASA;AApGA;AACA;AADA;AAAA;AACA;AAsGA;AACA;AADA;AAGA;;;;A","sourceRoot":""}